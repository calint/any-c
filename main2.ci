material{
	id=0
	print{
		printf("material %d\n",id);
	}
}

materials{
	material m1
	material m2
	_init{
		m1.id=1
		m2.id=2
	}
	material&get(cstr nm){
		if nm=="mat1" return m1
		if nm=="mat2" return m2
	}
}

glob{
	glob&parent;
	material&;
	id=0;
	print{
		printf("glob %d\n",id);
	}
}

globs{
	glob e1
	glob e2
	glob&get(cstr nm){
		return e1
	}
}

global{
	globs;
	materials;
	
	main{
		globs.get("a").material=materials.get("mat2")
		globs.get("a").print()
	}
}
